-- WARNING: This schema is for context only and is not meant to be run.
-- Table order and constraints may not be valid for execution.

CREATE TABLE public.companies (
  id bigint NOT NULL,
  company_name character varying NOT NULL,
  company_number character varying,
  company_type integer NOT NULL,
  phone character varying,
  fax character varying,
  alternate_phone1 character varying,
  alternate_phone2 character varying,
  web_address character varying,
  address1 character varying,
  address2 character varying,
  additional_address_information text,
  city character varying,
  state character varying,
  postal_code character varying,
  country_id integer,
  billing_address1 character varying,
  billing_address2 character varying,
  bill_to_additional_address_information text,
  bill_to_city character varying,
  bill_to_state character varying,
  bill_to_zip_code character varying,
  bill_to_country_id integer,
  bill_to_address_to_use integer,
  bill_to_attention character varying,
  bill_to_company_location_id integer,
  classification integer,
  company_category_id integer,
  parent_company_id integer,
  market_segment_id integer,
  territory_id integer,
  sic_code character varying,
  stock_market character varying,
  stock_symbol character varying,
  tax_id character varying,
  tax_region_id integer,
  is_active boolean DEFAULT true,
  is_client_portal_active boolean DEFAULT false,
  is_enabled_for_comanaged boolean DEFAULT false,
  is_task_fire_active boolean DEFAULT false,
  is_tax_exempt boolean DEFAULT false,
  owner_resource_id integer,
  created_by_resource_id integer,
  impersonator_creator_resource_id integer,
  invoice_template_id integer,
  quote_template_id integer,
  purchase_order_template_id integer,
  invoice_email_message_id integer,
  quote_email_message_id integer,
  currency_id integer,
  asset_value numeric,
  invoice_method integer,
  invoice_non_contract_items_to_parent_company boolean,
  create_date timestamp with time zone NOT NULL,
  last_activity_date timestamp with time zone,
  last_tracked_modified_date_time timestamp with time zone,
  survey_company_rating integer,
  api_vendor_id character varying,
  competitor_id integer,
  created_at timestamp with time zone DEFAULT now(),
  updated_at timestamp with time zone DEFAULT now(),
  CONSTRAINT companies_pkey PRIMARY KEY (id)
);
CREATE TABLE public.ticket_notes (
  id bigint NOT NULL,
  ticket_id bigint NOT NULL,
  title text,
  description text,
  note_type integer NOT NULL,
  publish integer,
  create_date_time timestamp with time zone NOT NULL,
  last_activity_date timestamp with time zone,
  created_by_contact_id integer,
  creator_resource_id integer,
  impersonator_creator_resource_id integer,
  impersonator_updater_resource_id integer,
  created_at timestamp with time zone DEFAULT now(),
  updated_at timestamp with time zone DEFAULT now(),
  CONSTRAINT ticket_notes_pkey PRIMARY KEY (id),
  CONSTRAINT fk_ticket FOREIGN KEY (ticket_id) REFERENCES public.tickets(id)
);
CREATE TABLE public.tickets (
  id bigint NOT NULL,
  ticket_number character varying NOT NULL UNIQUE,
  title text NOT NULL,
  description text,
  status integer NOT NULL,
  priority integer NOT NULL,
  ticket_type integer NOT NULL,
  ticket_category integer NOT NULL,
  create_date timestamp with time zone NOT NULL,
  due_date_time timestamp with time zone,
  completed_date timestamp with time zone,
  resolved_date_time timestamp with time zone,
  last_activity_date timestamp with time zone,
  company_id integer,
  company_location_id integer,
  contact_id integer,
  assigned_resource_id integer,
  completed_by_resource_id integer,
  creator_resource_id integer,
  contract_id integer,
  billing_code_id integer,
  source integer,
  issue_type integer,
  sub_issue_type integer,
  estimated_hours numeric,
  hours_to_be_scheduled numeric,
  queue_id integer,
  resolution text,
  purchase_order_number character varying,
  external_id character varying,
  creator_type integer,
  last_activity_person_type integer,
  last_activity_resource_id integer,
  created_at timestamp with time zone DEFAULT now(),
  updated_at timestamp with time zone DEFAULT now(),
  company_name character varying,
  CONSTRAINT tickets_pkey PRIMARY KEY (id)
);
CREATE TABLE public.time_entries (
  id bigint NOT NULL,
  ticket_id bigint,
  date_worked date,
  start_date_time timestamp with time zone,
  end_date_time timestamp with time zone,
  hours_worked numeric,
  hours_to_bill numeric,
  offset_hours numeric DEFAULT 0,
  summary_notes text,
  internal_notes text,
  is_internal_notes_visible_to_comanaged boolean DEFAULT false,
  billing_code_id integer,
  internal_billing_code_id integer,
  is_non_billable boolean DEFAULT false,
  show_on_invoice boolean DEFAULT true,
  billing_approval_date_time timestamp with time zone,
  billing_approval_level_most_recent integer DEFAULT 0,
  billing_approval_resource_id integer,
  resource_id integer,
  role_id integer,
  contract_id integer,
  contract_service_bundle_id integer,
  contract_service_id integer,
  task_id integer,
  time_entry_type integer,
  create_date_time timestamp with time zone,
  last_modified_date_time timestamp with time zone,
  creator_user_id integer,
  last_modified_user_id integer,
  impersonator_creator_resource_id integer,
  impersonator_updater_resource_id integer,
  created_at timestamp with time zone DEFAULT now(),
  updated_at timestamp with time zone DEFAULT now(),
  CONSTRAINT time_entries_pkey PRIMARY KEY (id),
  CONSTRAINT fk_ticket FOREIGN KEY (ticket_id) REFERENCES public.tickets(id)
);